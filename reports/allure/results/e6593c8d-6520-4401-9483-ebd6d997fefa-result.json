{"uuid":"e6593c8d-6520-4401-9483-ebd6d997fefa","historyId":"2a188caf4c7e72794e1365811bbc0bb6","status":"broken","statusDetails":{"message":"Cannot set properties of undefined (setting 'id')","trace":"TypeError: Cannot set properties of undefined (setting 'id')\n    at Context.eval (https://folio-snapshot.dev.folio.org/__cypress/tests?p=cypress\\integration\\data-import\\upload-file-update.spec.js:636:30)\nFrom previous event:\n    at Context.thenFn (https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:155179:63)\n    at Context.then (https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:155631:21)\n    at Context.<anonymous> (https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:172103:23)\n    at https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:170703:17\nFrom previous event:\n    at runCommand (https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:170682:10)\n    at next (https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:170823:16)\n    at https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:170852:18"},"stage":"finished","steps":[{"status":"failed","statusDetails":{"message":"Cannot set properties of undefined (setting 'id')","trace":"TypeError: Cannot set properties of undefined (setting 'id')\n    at Context.eval (https://folio-snapshot.dev.folio.org/__cypress/tests?p=cypress\\integration\\data-import\\upload-file-update.spec.js:636:30)\nFrom previous event:\n    at Context.thenFn (https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:155179:63)\n    at Context.then (https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:155631:21)\n    at Context.<anonymous> (https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:172103:23)\n    at https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:170703:17\nFrom previous event:\n    at runCommand (https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:170682:10)\n    at next (https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:170823:16)\n    at https://folio-snapshot.dev.folio.org/__cypress/runner/cypress_runner.js:170852:18"},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111430324,"name":"log {\"id\":\"\",\"name\":\"autotest_instance_mapping_profile_772.3534719352019597\",\"incomingRecordType\":\"MARC_BIBLIOGRAPHIC\",\"existingRecordType\":\"INSTANCE\"}","stop":1643111430338},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111430341,"name":"POST 201 https://folio-snapshot-okapi.dev.folio.org/data-import-profiles/mappingProfiles?limit=1000&query=cql.allRecords%3D1","stop":1643111430562}],"attachments":[],"parameters":[],"start":1643111430341,"name":"okapiRequest (\"{ method: 'POST',\n  path: 'data-import-profiles/mappingProfiles',\n  body: \n   { profile: \n      { id: '',\n        name: 'autotest_instance_mapping_profile_772.3534719352019597',\n        incomingRecordType: 'MARC_BIBLIOGRAPHIC',\n        existingRecordType: 'INSTANCE' } } }\")","stop":1643111431933},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111430568,"name":"POST 201 https://folio-snapshot-okapi.dev.folio.org/data-import-profiles/actionProfiles?limit=1000&query=cql.allRecords%3D1","stop":1643111430797}],"attachments":[],"parameters":[],"start":1643111430567,"name":"okapiRequest (\"{ method: 'POST',\n  path: 'data-import-profiles/actionProfiles',\n  body: \n   { profile: \n      { id: '',\n        name: 'autotest_instance_action_profile_202.76967616526997597',\n        action: 'CREATE',\n        folioRecord: 'INSTANCE' },\n     addedRelations: [ [Object] ],\n     deletedRelations: [] } }\")","stop":1643111431933},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111430799,"name":"wrap 085bea19-d1ea-4124-9435-8228e680e12e","stop":1643111430816},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111430816,"name":"as (\"idActionProfile\")","stop":1643111430819}],"attachments":[],"parameters":[],"start":1643111430565,"name":"createActionProfileApi (\"{ profile: \n   { id: '',\n     name: 'autotest_instance_action_profile_202.76967616526997597',\n     action: 'CREATE',\n     folioRecord: 'INSTANCE' },\n  addedRelations: \n   [ { masterProfileId: null,\n       masterProfileType: 'ACTION_PROFILE',\n       detailProfileId: '8f6696cd-cdc0-4f39-b0ca-e1df9d3fa885',\n       detailProfileType: 'MAPPING_PROFILE' } ],\n  deletedRelations: [] }\")","stop":1643111431933}],"attachments":[],"parameters":[],"start":1643111430339,"name":"createMappingProfileApi (\"{ id: '',\n  name: 'autotest_instance_mapping_profile_772.3534719352019597',\n  incomingRecordType: 'MARC_BIBLIOGRAPHIC',\n  existingRecordType: 'INSTANCE' }\")","stop":1643111431933},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111430819,"name":"get @idActionProfile","stop":1643111430836},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111430838,"name":"addJobProfileRelation (\"[]\"; \"085bea19-d1ea-4124-9435-8228e680e12e\")","stop":1643111430839}],"attachments":[],"parameters":[],"start":1643111430322,"name":"createOnePairMappingAndActionProfiles (\"{ id: '',\n  name: 'autotest_instance_mapping_profile_772.3534719352019597',\n  incomingRecordType: 'MARC_BIBLIOGRAPHIC',\n  existingRecordType: 'INSTANCE' }\"; \"{ profile: \n   { id: '',\n     name: 'autotest_instance_action_profile_202.76967616526997597',\n     action: 'CREATE',\n     folioRecord: 'INSTANCE' },\n  addedRelations: \n   [ { masterProfileId: null,\n       masterProfileType: 'ACTION_PROFILE',\n       detailProfileId: '',\n       detailProfileType: 'MAPPING_PROFILE' } ],\n  deletedRelations: [] }\")","stop":1643111431933},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111430840,"name":"log {\"id\":\"\",\"name\":\"autotest_holdings_mapping_profile_149.92193336007253597\",\"incomingRecordType\":\"MARC_BIBLIOGRAPHIC\",\"existingRecordType\":\"HOLDINGS\",\"mappingDetails\":{\"name\":\"holdings\",\"recordType\":\"HOLDINGS\",\"mappingFields\":[{\"name\":\"permanentLocationId\",\"enabled\":true,\"path\":\"holdings.permanentLocationId\",\"value\":\"\\\"Annex (KU/CC/DI/A)\\\"\"}]}}","stop":1643111430851},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111430852,"name":"POST 201 https://folio-snapshot-okapi.dev.folio.org/data-import-profiles/mappingProfiles?limit=1000&query=cql.allRecords%3D1","stop":1643111431036}],"attachments":[],"parameters":[],"start":1643111430852,"name":"okapiRequest (\"{ method: 'POST',\n  path: 'data-import-profiles/mappingProfiles',\n  body: \n   { profile: \n      { id: '',\n        name: 'autotest_holdings_mapping_profile_149.92193336007253597',\n        incomingRecordType: 'MARC_BIBLIOGRAPHIC',\n        existingRecordType: 'HOLDINGS',\n        mappingDetails: [Object] } } }\")","stop":1643111431933},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431038,"name":"POST 201 https://folio-snapshot-okapi.dev.folio.org/data-import-profiles/actionProfiles?limit=1000&query=cql.allRecords%3D1","stop":1643111431219}],"attachments":[],"parameters":[],"start":1643111431038,"name":"okapiRequest (\"{ method: 'POST',\n  path: 'data-import-profiles/actionProfiles',\n  body: \n   { profile: \n      { id: '',\n        name: 'autotest_holdings_action_profile_721.1392880960597597',\n        action: 'CREATE',\n        folioRecord: 'HOLDINGS' },\n     addedRelations: [ [Object] ],\n     deletedRelations: [] } }\")","stop":1643111431933},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431221,"name":"wrap 12997c74-f268-4171-8acd-718701fab430","stop":1643111431232},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431233,"name":"as (\"idActionProfile\")","stop":1643111431234}],"attachments":[],"parameters":[],"start":1643111431037,"name":"createActionProfileApi (\"{ profile: \n   { id: '',\n     name: 'autotest_holdings_action_profile_721.1392880960597597',\n     action: 'CREATE',\n     folioRecord: 'HOLDINGS' },\n  addedRelations: \n   [ { masterProfileId: null,\n       masterProfileType: 'ACTION_PROFILE',\n       detailProfileId: '67713471-c0f4-47ff-adae-94fd830bfe21',\n       detailProfileType: 'MAPPING_PROFILE' } ],\n  deletedRelations: [] }\")","stop":1643111431933}],"attachments":[],"parameters":[],"start":1643111430851,"name":"createMappingProfileApi (\"{ id: '',\n  name: 'autotest_holdings_mapping_profile_149.92193336007253597',\n  incomingRecordType: 'MARC_BIBLIOGRAPHIC',\n  existingRecordType: 'HOLDINGS',\n  mappingDetails: \n   { name: 'holdings',\n     recordType: 'HOLDINGS',\n     mappingFields: [ [Object] ] } }\")","stop":1643111431933},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431234,"name":"get @idActionProfile","stop":1643111431246},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431252,"name":"addJobProfileRelation (\"[ { masterProfileType: 'JOB_PROFILE',\n    detailProfileType: 'ACTION_PROFILE',\n    order: 0,\n    detailProfileId: '085bea19-d1ea-4124-9435-8228e680e12e' } ]\"; \"12997c74-f268-4171-8acd-718701fab430\")","stop":1643111431253}],"attachments":[],"parameters":[],"start":1643111430839,"name":"createOnePairMappingAndActionProfiles (\"{ id: '',\n  name: 'autotest_holdings_mapping_profile_149.92193336007253597',\n  incomingRecordType: 'MARC_BIBLIOGRAPHIC',\n  existingRecordType: 'HOLDINGS',\n  mappingDetails: \n   { name: 'holdings',\n     recordType: 'HOLDINGS',\n     mappingFields: [ [Object] ] } }\"; \"{ profile: \n   { id: '',\n     name: 'autotest_holdings_action_profile_721.1392880960597597',\n     action: 'CREATE',\n     folioRecord: 'HOLDINGS' },\n  addedRelations: \n   [ { masterProfileId: null,\n       masterProfileType: 'ACTION_PROFILE',\n       detailProfileId: '',\n       detailProfileType: 'MAPPING_PROFILE' } ],\n  deletedRelations: [] }\")","stop":1643111431933},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431255,"name":"log {\"id\":\"\",\"name\":\"autotest_item_mapping_profile_275.05143251625697597\",\"incomingRecordType\":\"MARC_BIBLIOGRAPHIC\",\"existingRecordType\":\"ITEM\",\"mappingDetails\":{\"name\":\"item\",\"recordType\":\"ITEM\",\"mappingFields\":[{\"name\":\"materialType.id\",\"enabled\":true,\"path\":\"item.materialType.id\",\"value\":\"\\\"book\\\"\",\"acceptedValues\":{\"1a54b431-2e4f-452d-9cae-9cee66c9a892\":\"book\"}},{\"name\":\"permanentLoanType.id\",\"enabled\":true,\"path\":\"item.permanentLoanType.id\",\"value\":\"\\\"Can circulate\\\"\",\"acceptedValues\":{\"2b94c631-fca9-4892-a730-03ee529ffe27\":\"Can circulate\"}},{\"name\":\"status.name\",\"enabled\":true,\"path\":\"item.status.name\",\"value\":\"\\\"In process\\\"\"}]}}","stop":1643111431267},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431270,"name":"POST 201 https://folio-snapshot-okapi.dev.folio.org/data-import-profiles/mappingProfiles?limit=1000&query=cql.allRecords%3D1","stop":1643111431449}],"attachments":[],"parameters":[],"start":1643111431269,"name":"okapiRequest (\"{ method: 'POST',\n  path: 'data-import-profiles/mappingProfiles',\n  body: \n   { profile: \n      { id: '',\n        name: 'autotest_item_mapping_profile_275.05143251625697597',\n        incomingRecordType: 'MARC_BIBLIOGRAPHIC',\n        existingRecordType: 'ITEM',\n        mappingDetails: [Object] } } }\")","stop":1643111431933},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431453,"name":"POST 201 https://folio-snapshot-okapi.dev.folio.org/data-import-profiles/actionProfiles?limit=1000&query=cql.allRecords%3D1","stop":1643111431629}],"attachments":[],"parameters":[],"start":1643111431452,"name":"okapiRequest (\"{ method: 'POST',\n  path: 'data-import-profiles/actionProfiles',\n  body: \n   { profile: \n      { id: '',\n        name: 'autotest_item_action_profile_305.98506570356056597',\n        action: 'CREATE',\n        folioRecord: 'ITEM' },\n     addedRelations: [ [Object] ],\n     deletedRelations: [] } }\")","stop":1643111431933},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431630,"name":"wrap 594bc66e-667e-4f38-9bd1-ba2b994d539b","stop":1643111431639},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431639,"name":"as (\"idActionProfile\")","stop":1643111431640}],"attachments":[],"parameters":[],"start":1643111431451,"name":"createActionProfileApi (\"{ profile: \n   { id: '',\n     name: 'autotest_item_action_profile_305.98506570356056597',\n     action: 'CREATE',\n     folioRecord: 'ITEM' },\n  addedRelations: \n   [ { masterProfileId: null,\n       masterProfileType: 'ACTION_PROFILE',\n       detailProfileId: '60b6f35c-7964-4bab-9a44-042814370451',\n       detailProfileType: 'MAPPING_PROFILE' } ],\n  deletedRelations: [] }\")","stop":1643111431933}],"attachments":[],"parameters":[],"start":1643111431267,"name":"createMappingProfileApi (\"{ id: '',\n  name: 'autotest_item_mapping_profile_275.05143251625697597',\n  incomingRecordType: 'MARC_BIBLIOGRAPHIC',\n  existingRecordType: 'ITEM',\n  mappingDetails: \n   { name: 'item',\n     recordType: 'ITEM',\n     mappingFields: [ [Object], [Object], [Object] ] } }\")","stop":1643111431933},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431640,"name":"get @idActionProfile","stop":1643111431653},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431654,"name":"addJobProfileRelation (\"[ { masterProfileType: 'JOB_PROFILE',\n    detailProfileType: 'ACTION_PROFILE',\n    order: 0,\n    detailProfileId: '085bea19-d1ea-4124-9435-8228e680e12e' },\n  { masterProfileType: 'JOB_PROFILE',\n    detailProfileType: 'ACTION_PROFILE',\n    order: 1,\n    detailProfileId: '12997c74-f268-4171-8acd-718701fab430' } ]\"; \"594bc66e-667e-4f38-9bd1-ba2b994d539b\")","stop":1643111431654}],"attachments":[],"parameters":[],"start":1643111431253,"name":"createOnePairMappingAndActionProfiles (\"{ id: '',\n  name: 'autotest_item_mapping_profile_275.05143251625697597',\n  incomingRecordType: 'MARC_BIBLIOGRAPHIC',\n  existingRecordType: 'ITEM',\n  mappingDetails: \n   { name: 'item',\n     recordType: 'ITEM',\n     mappingFields: [ [Object], [Object], [Object] ] } }\"; \"{ profile: \n   { id: '',\n     name: 'autotest_item_action_profile_305.98506570356056597',\n     action: 'CREATE',\n     folioRecord: 'ITEM' },\n  addedRelations: \n   [ { masterProfileId: null,\n       masterProfileType: 'ACTION_PROFILE',\n       detailProfileId: '',\n       detailProfileType: 'MAPPING_PROFILE' } ],\n  deletedRelations: [] }\")","stop":1643111431933},{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431657,"name":"POST 201 https://folio-snapshot-okapi.dev.folio.org/data-import-profiles/jobProfiles?limit=1000&query=cql.allRecords%3D1","stop":1643111431910}],"attachments":[],"parameters":[],"start":1643111431656,"name":"okapiRequest (\"{ method: 'POST',\n  path: 'data-import-profiles/jobProfiles',\n  body: \n   { profile: \n      { name: 'autotest_job_profile_997.4905373429899319',\n        dataType: 'MARC' },\n     addedRelations: [ [Object], [Object], [Object] ],\n     deletedRelations: [] } }\")","stop":1643111431933}],"attachments":[],"parameters":[],"start":1643111431655,"name":"createJobProfileApi (\"{ profile: \n   { name: 'autotest_job_profile_997.4905373429899319',\n     dataType: 'MARC' },\n  addedRelations: \n   [ { masterProfileType: 'JOB_PROFILE',\n       detailProfileType: 'ACTION_PROFILE',\n       order: 0,\n       detailProfileId: '085bea19-d1ea-4124-9435-8228e680e12e' },\n     { masterProfileType: 'JOB_PROFILE',\n       detailProfileType: 'ACTION_PROFILE',\n       order: 1,\n       detailProfileId: '12997c74-f268-4171-8acd-718701fab430' },\n     { masterProfileType: 'JOB_PROFILE',\n       detailProfileType: 'ACTION_PROFILE',\n       order: 2,\n       detailProfileId: '594bc66e-667e-4f38-9bd1-ba2b994d539b' } ],\n  deletedRelations: [] }\")","stop":1643111431933},{"status":"failed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1643111431933,"name":"then function(){}","stop":1643111431933}],"attachments":[],"parameters":[],"start":1643111430318,"name":"\"before each\" hook","stop":1643111431933}],"attachments":[],"parameters":[],"labels":[{"name":"suite","value":"ui-data-import: MARC file upload with the update of instance, holding, and items"}],"links":[],"start":1643111430301,"name":"C343335 MARC file upload with the update of instance, holding, and items","fullName":"C343335 MARC file upload with the update of instance, holding, and items","stop":1643111431934}